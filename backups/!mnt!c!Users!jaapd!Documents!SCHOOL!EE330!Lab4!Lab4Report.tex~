% Created 2017-10-31 Tue 01:22
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\usepackage[margin=1.0in]{geometry}
\author{Jaap de Dood}
\date{Oct. 14, 2017}
\title{EE330 Lab \#3\\\medskip
\large Investigating Bipolar Junction Transistor Characteristics}
\hypersetup{
 pdfauthor={Jaap de Dood},
 pdftitle={EE330 Lab \#3},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 24.5.1 (Org mode 9.0.7)}, 
 pdflang={English}}
\begin{document}

\maketitle
\section{Abstract}
\label{sec:org3f5cf1f}
This lab was an introduction to working with bipolar junction transistors (BJTs) by seeing how to find their pin out using a digital multimeter and using their datasheets. Next, important characteristics of BJTs were measured and investigated. First, the variation between devices of the same type was measured and the relationship between I\(_{\text{C}}\) and \(\beta\) was investigated. Next, the relationship between V\(_{\text{CE}}\) and I\(_{\text{C}}\) at constant I\(_{\text{B}}\) were measured and plotted and the effect of varying temperature was measured. The \(\beta\) value for a transistor in inverted mode was then measured to compare to active mode, as well as the zener voltage for this B-E junction. Finally, I\(_{\text{CEO}}\) was measured at room temperature and a high temperature.
\section{Introduction}
\label{sec:orgeb23a54}
A bipolar junction transistor consists of three layers of differently doped semiconductor material. Depending on whether it is an "npn" or "pnp" type transistor, these layers will be n-type, p-type, n-type or p-type, n-type, p-type respectively, which are given the names collector, base and emitter. This can be modeled as two diodes, pointing either outward, for npn, or inward, for pnp, from the base. The emitter is usually also heavily doped to facilitate collector-emitter diffusion of carriers. These properties can be used to experimentally determine whether a given BJT is npn or pnp, and which pins correspond to base, collector and emitter.\newline\newline
The pin out for a BJT can be determined by applying a voltage to the pins and measuring the voltage drop across the junction. Almost all modern multimeters have a "diode test" setting that is very convenient for testing diodes and transistors. The "resistance" function of a multimeter will usually not return any readings when measuring across a p-n junction as it requires about 0.7V to forward bias a silicon p-n junction and the resistance setting will not provide this. The diode test setting, instead, provides a high enough voltage to forward bias the junction and reads the voltage drop across it. The collector can then be distinguished from the emitter if there is a difference between V\(_{\text{BE}}\) and V\(_{\text{BC}}\), as V\(_{\text{BE}}\) will be slightly higher due to the heavy doping.\newline\newline
Although the pin out can be determined experimentally, it could also simply be read from the device's data sheet. Manufacturer data sheets are easy to find online and contain most of the information one may need to know about the device. This includes maximum ratings, typical values etc. Although the manufacturer measures these values with highly accurate techniques, they all include a, possibly significant, error margin as not every device can be manufactured to be identical. Some of these values will be noted from the data sheet and compared to a measured value in this lab.\newline\newline
One of these values that can be found in the data is \(\beta\), which is the transistor's dc current gain given by 
\begin{equation}
\beta = \frac{I_C}{I_B}
\end{equation}
This is one of the most important characteristics of a BJT as they are widely used as amplifiers, however, one complication is that \(\beta\) varies with I\(_{\text{C}}\) and temperature. The manufacturer of the BJT that will be used in this lab, a 2N3904 NPN transistor, includes a characterization of this effect in the device's data sheet:
\begin{center}
\includegraphics[width=.9\linewidth]{image1.jpg}
\captionof{figure}{DC Current Gain}
\end{center}
This effect will be measured in the lab and compared to the given values by the manufacturer.\newline\newline
Another relationship that will be measured, I\(_{\text{C}}\) vs V\(_{\text{CE}}\), is the relationship caused by an effect known as base width modulation, or the Early effect. As V\(_{\text{CE}}\) is increased, the base-collector voltage increases too, so it is increasingly reverse biased. Increasing reverse bias on this junction increases the width of the depletion region which ,in turn, mostly reduces the width of the base region as it is lightly doped compared to the collector. This increases both the concentration gradient and reduces the probability for recombination, leading to a higher rate of diffusion and a higher \(\beta\) value and thus a higher emitter current and collector current.\newline\newline
At a certain V\(_{\text{CE}}\) however, the base width approaches zero, effectively shorting the transistor and possibly destroying it by reaching high currents. This is called punchthrough or reach through and will also be measured.\newline\newline
When a V\(_{\text{CE}}\) is applied to a transistor with the base left unconnected or "open," there will still be some current through the transistor, just like there would be a leakage current through a reverse biased diode. Also similar to a diode, this reverse leakage current will increase with temperature. In some transistor circuits this could be a real issue if the current is high enough, so an I\(_{\text{CEO}}\) value will be measured at a high temperature. 
\section{Procedure}
\label{sec:org7e0abd1}
\subsection{Determining pin out experimentally}
\label{sec:org73ab5f1}
The base pin of a BJT with a TO-92 style case is usually the center pin, so the most methodical way to use the diode test setting on a multimeter with a BJT is to place either of the leads on the center pin and then touch the other two pins with the other lead in turn. If no value is read then swap the leads. If the center pin is the base pin, then in one of these two tests a volage drop will be read across both pins. If a voltage drop is recorded while touching the base pin with the positive lead then the transistor is npn or vice-versa pnp. If touching only one of the pins with the second lead produces a reading, then the first lead is not touching the base and the process should be repeated by trying another pin as the base pin.\newline\newline
The values read will tell us whether the transistor is made of silicon or germanium, and may tell us which is the collector and which is the emitter. A silicon p-n junction will drop around 0.7V and germanium around 0.3V. V\(_{\text{BE}}\) will drop a slightly higher voltage than V\(_{\text{BC}}\). \newline\newline
This will be done for 3 different BJTs.
\subsection{Measuring \(\beta\) for different transistors of the same number and \(\beta\) vs I\(_{\text{C}}\)}
\label{sec:orga20b1f7}
In order to measure \(\beta\) for multiple transistors of the same number, I\(_{\text{C}}\) and V\(_{\text{CE}}\) are kept constant at 1mA and 11V in the following circuit.
\begin{center}
\includegraphics[width=100px]{image2.jpg}
\captionof{figure}{Constant I\(_{\text{C}}\) and V\(_{\text{CE}}\)}
\end{center}
Two 2N3904, 2N3906 and 2N3089 BJTs will be placed in this circuit and \(\beta\) can then be calculated by equation (1) and the \% difference with the datasheet values can be calculated by: 
\begin{equation}
\text{Percentage error} = \frac{\text{Theoretical Value} - \text{Measured Value}}{\text{Theoretical Value}} \cdot 100\%
\end{equation}
Next, using just the 2N3904 transistor, I\(_{\text{C}}\) will be varied from 10\(\mu\) A to 100mA in log units by varying the voltage, R1 and R2 and I\(_{\text{B}}\) is measured each time.
\subsection{Measuring I\(_{\text{C}}\) vs V\(_{\text{CE}}\)}
\label{sec:org0dede67}
Using the same 2N3904 from before, I\(_{\text{B}}\) will now be kept constant at 1\(\mu\) A and V\(_{\text{CE}}\) is to be varied over a range of 2V to 22V. Since a very large resistance would be required for R2 in figure 1 to obtain 1\(\mu\) A at 22V, a separate power supply was used to supply the base current in this experiment.
\begin{center}
\includegraphics[width=100px]{image3.jpg}
\captionof{figure}{Constant I\(_{\text{B}}\) varying V\(_{\text{CE}}\)}
\end{center}
With a small resistor in series and a very low base current, almost all the input voltage will be dropped across the transistor. The exact input voltage required for a certain V\(_{\text{CE}}\) could be calculated, however, for this experiment there is no need to since exact values are not required; as long as we obtain enough measured samples between 2 and 22V. The 100\(\Omega\) resistor in figure 3 is just in case the transistor was to begin conducting a large current, to protect the transistor and the power supply. \newline\newline
With this circuit set up, V\(_{\text{CE}}\) will be varied over our range and I\(_{\text{C}}\) measured every time. Then, the Early potential, V\(_{\text{A}}\) can be predicted by extrapolating the plotted graph of I\(_{\text{C}}\) vs V\(_{\text{CE}}\) until it intersects the V\(_{\text{CE}}\) axis.\newline\newline
In order to take a measurement of \(\beta\) at different temperatures, the transistor can be cooled to about -55 C by spraying it with a freezer spray and heated to roughly +125 C by setting a soldering iron to its lowest temperature and touching one of the leads with the iron tip. When doing this it is important to make sure the lead that will be touched by the soldering iron is not inserted into a breadboard, as the heat will conduct through the pin and melt the plastic breadboard. Instead, a pin should be bent up away from the breadboard before it is touched with the soldering iron. A measuremenmt for I\(_{\text{C}}\) can then quickly be taken while the transistor is still hot or cold.
\subsection{Measuring \(\beta\) and B-E zener voltage in inverted mode}
\label{sec:org9a9e874}
While the circuit in figure 3 is set up, the transistor can be flipped in direction, to place it in inverted mode and observe the effect on \(\beta\) while keeping I\(_{\text{B}}\) = 1\(\mu\) A and V\(_{\text{CE}}\) = 10V. The zener voltage is then measured by increase V\(_{\text{CE}}\) until a large increase in I\(_{\text{C}}\) is seen at which point V\(_{\text{CE}}\) is the zener voltage.
\subsection{Measuring I\(_{\text{CEO}}\), I\(_{\text{CBO}}\)}
\label{sec:orgc23e1a3}
In order to measure the "open" currents, the base of the transistor in the circuit from figure 3 needs to simply be disconnected from the circuit and the currents across the base and emitter can be measured with an ammeter as before. If the leakage current is too small to read by the ammeter, a small resistor can be placed before the collector or after the base and the voltage across it measured by a voltmeter. The current can then be calculated by \(I = \frac{V}{R}\).
\section{Results}
\label{sec:orgc5bcb11}
\subsection{Determining pin out}
\label{sec:org406371e}
\begin{center}
\begin{tabular}{llrrl}
Transistor & Type & V\(_{\text{pin 21}}\) & V\(_{\text{pin 23}}\) & pin out\\
\hline
2N3904 & NPN & 0.700 & 0.680 & EBC\\
2N3906 & PNP & 0.700 & 0.680 & EBC\\
2N5089 & NPN & 0.700 & 0.700 & EBC\\
\end{tabular}
\end{center}

\subsection{Primary Characteristics for a 2N3904}
\label{sec:org16058c7}
\begin{center}
\includegraphics[width=100px]{image4.jpg}
\captionof{figure}{pin out and transistor type}
\end{center}
\begin{center}
\includegraphics[width=300px]{image5.jpg}
\captionof{figure}{Maximum ratings}
\end{center}
\begin{center}
\includegraphics[width=500px]{image6.jpg}
\captionof{figure}{\(\beta\) / h\(_{\text{fe}}\) range of values}
\end{center}
\subsection{Measuring \(\beta\) for different transistors of the same number and \(\beta\) vs I\(_{\text{C}}\)}
\label{sec:org006ac17}
\begin{center}
\captionof{table}{\(\beta\) for different transistors of same number}
\begin{tabular}{lrrrr}
Transistor & I\(_{\text{C}}\)  (mA) & I\(_{\text{B}}\) (\(\mu\) A) & \(\beta\) & \% difference\\
\hline
2N3904 \#1 & 1.063 & 6.96 & 152.7 & \\
2N3904 \#2 & 1.063 & 6.97 & 152.5 & 0.14\\
2N3906 \#1 & 1.198 & 8.04 & 149.0 & \\
2N3909 \#2 & 1.119 & 8.10 & 138.1 & 7.29\\
2N3089 \#1 & 1.009 & 6.73 & 149.9 & \\
2N3089 \#2 & 1.080 & 7.07 & 152.8 & 1.89\\
\end{tabular}
\end{center}
\begin{center}
\captionof{table}{\(\beta\) vs I\(_{\text{C}}\) for a 2N3904 transistor}
\begin{tabular}{llr}
I\(_{\text{C}}\) (A) & I\(_{\text{B}}\) (A) & \(\beta\)\\
\hline
1.14x10\(^{\text{-05}}\) & 5.00x10\(^{\text{-08}}\) & 228\\
1.01x10\(^{\text{-04}}\) & 5.40x10\(^{\text{-07}}\) & 186\\
1.09x10\(^{\text{-03}}\) & 5.73x10\(^{\text{-06}}\) & 190\\
1.50x10\(^{\text{-02}}\) & 5.51x10\(^{\text{-05}}\) & 272\\
1.03x10\(^{\text{-01}}\) & 1.97x10\(^{\text{-03}}\) & 52.2\\
\end{tabular}
\end{center}
\begin{center}
\captionof{table}{Cooling effect on \(\beta\)}
\begin{tabular}{lrrrr}
Temperature ( \(^{\circ}\) C) & I\(_{\text{C}}\) (mA) & I\(_{\text{B}}\) (\(\mu\) A) & V\(_{\text{BE}}\) & \(\beta\)\\
\hline
\textasciitilde{}25 & 0.88 & 4.3 & 0.663 & 204.7\\
\textasciitilde{}-50 & 0.89 & 8.181 & 0.850 & 108.8\\
\end{tabular}
\end{center}
\begin{center}
\includegraphics[width=300px]{image7.png}
\captionof{figure}{\(\beta\) vs I\(_{\text{C}}\) for a 2N3904 transistor plot}
\end{center}
\subsection{Measuring I\(_{\text{C}}\) vs V\(_{\text{CE}}\)}
\label{sec:org3b5cfe9}
\begin{center}
\captionof{table}{V\(_{\text{CE}}\) vs I\(_{\text{C}}\) for a 2N3904 transistor}
\begin{tabular}{rr}
V\(_{\text{CE}}\) & I\(_{\text{C}}\) (mA)\\
\hline
2 & 0.189\\
5.2 & 0.192\\
9.5 & 0.196\\
13 & 0.198\\
15.3 & 0.2\\
19.9 & 0.203\\
24 & 0.205\\
\end{tabular}
\end{center}
\begin{center}
\includegraphics[width=300px]{image8.jpg}
\captionof{figure}{V\(_{\text{CE}}\) vs I\(_{\text{C}}\) plot}
\end{center}
\begin{center}
\includegraphics[width=500px]{image9.jpg}
\captionof{figure}{Early Voltage Extrapolation}
\end{center}
\subsection{Measuring \(\beta\) and B-E zener voltage in inverted mode}
\label{sec:org537ea9a}
\begin{center}
\captionof{table}{2N3904 in reverse bias}
\begin{tabular}{rllr}
V\(_{\text{CE}}\) & I\(_{\text{C}}\) (A) & I\(_{\text{B}}\) (A) & \(\beta\)\\
\hline
2.02 & 1.8x10\(^{\text{-6}}\) & 1.057x10\(^{\text{-6}}\) & 1.7\\
5.12 & 1.9x10\(^{\text{-6}}\) & 1.057x10\(^{\text{-6}}\) & 1.8\\
8.9+ & breakdown &  & \\
\end{tabular}
\end{center}
\subsection{Measuring I\(_{\text{CEO}}\)}
\label{sec:org3521deb}
\begin{center}
\captionof{table}{2N3904 with base unconnected}
\begin{tabular}{lrr}
Temperature ( \(^{\circ}\) C) & V\(_{\text{R}}\) (mV) & I\(_{\text{CEO}}\) (nA)\\
\hline
\textasciitilde{}25 & 0.005 & 50\\
\textasciitilde{}125 & 0.035 & 350\\
\end{tabular}
\end{center}
\section{Discussion}
\label{sec:orgc7bfd35}
The results in Table 1 show that there is variation in the \(\beta\) values of multiple transistors of the same number. The datasheet for a 2N3904 shows, in Figure 5, that the \(\beta\) values can be anywhere between 70 and 300 at 1.0mA so the \% difference of 0.14\% for the two transistors is very low compared to what it could be. In specifically low tolerance applications, these variations in values could be dealt with by designing the circuit to be relatively independent from \(\beta\), or by testing a batch of the same transistors and selecting those with similar values.\newline\newline
The plot in Figure 7 is expected to look more like the curve in Figure 1, however, the value for \(\beta\) at I\(_{\text{C}}\) = 10\(\mu\) A is much higher than it should be and, in hindsight, should be re-measured to produce an accurate plot. The expected drop in \(\beta\) at higher current values can still clearly be seen as \(\beta\) reaches a value of 52.2 at I\(_{\text{C}}\) = 100mA. This drop in \(\beta\) is due to effects known as current crowding, high level injection and bulk resistance. High level injection effect occur when high currents cause an excess minority carrier concentration exceeding the doping density of the material. At this point the ideal diode equation no longer holds across the p-n junctions of the transistor. The other two high-current effects are due to the small area of the base region. Because we know that \(R = \frac{\rho}{A}\), a small area means a larger resistance. This resistance causes the current to crowd along the edges of the emitter-base junction when a large forward bias is applied, restricting the current flow.\newline\newline
When the package was cooled using some freeze spray, \(\beta\) saw a drop from 204.7 to 108.8. Looking at Figure 1, \(\beta\) is expected to be
\[\beta_{25C} \cdot \frac{0.41}{0.79} = 0.52\beta_{25C} = \beta_{-55C}\]
Using our measured \(\beta\) at room temperature:
\[\beta_{-55C}=204.7\cdot 0.52 = 106.44\]
So our measured value is a 2.2\% difference from the expected value. This difference could be lower if the temperature was measured accurately and plotted against current measured by a DMM with a high refresh rate.\newline\newline
The results for measuring I\(_{\text{C}}\) vs V\(_{\text{CE}}\) in Table 3 and Figure 8 are exactly as expected. This is because at V\(_{\text{CE}}\) = 2-25V, the transistor will be in active mode with a small base current. If V\(_{\text{CE}}\) falls below a certain point, the transistor would quickly reach saturation at which point it acts non-linearly and could reach high power values and break down from the heat. This is the reason for the 100\(\Omega\) resistor in the circuit as described in part 3.3. In active mode, a BJT's current increases linearly with voltage as shown in the graph. This is the region that is useful for amplification purposes as the results are easily predicted and adjusted.\newline\newline
If this slightly positive slope of V\(_{\text{CE}}\) vs I\(_{\text{C}}\) is extrapolated to the negative end of the graph, the intersection point with the x-axis is -V\(_{\text{A}}\). This is know as the Early potential and represents how closely to ideal the transistor behaves. In an ideal transistor, I\(_{\text{C}}\) does not depend on V\(_{\text{CE}}\) and hence \(V_A = \infty\) but this is not true in reality as seen in this experiment where we measured a V\(_{\text{A}}\) of 250V.\newline\newline
In the next part of the experiment, the same transistor, a 2N3904, was turned around to exchange the emitter for the collector and vice-versa. Table 5 shows much lower \(\beta\) values than measured before. This is because a transistor is not symmetrical since the emitter is heavily doped and the collector lightly doped. The emitter is heavily doped to facilitate diffusion current in forward active mode, hence the transistor will have poor amplification in reverse active mode. As seen with diodes, applying a reverse bias to a p-n junction increases the depletion width. At a certain reverse bias, the base-collector and base-emitter depletion widths increase enough to deplete the entire base region, allowing carriers to pass it without recombining. For our transistor, this breakdown voltage was measured at 8.9V. The datasheet states the maximum V\(_{\text{EB}}\) as being 6.0V, but this includes a safe margin accounting for variation in individual transistor properties.\newline\newline
When the base of the transistor was disconnected, using an npn as example, the usual emitter-base flow of electrons which is the main cause of current in the transistor will not happen quite the same. Instead, there will simply be a small reverse leakague current through the base-collector junction. This is a small forward bias that will cause the base-emitter depletion zone to narrow as usual and hence allow the mobile electrons in the heavily doped emitter to flow toward the collector. This means that the small leakage current is still being amplified, which will be by a factor of (\(\beta\) + 1). Our measured value for I\(_{\text{CEO}}\) was 50nA. The 2N3904's datasheet actually states a value for "Collector Cutoff Current", which is 50nA, so our measurement is accurate. From this, we can calculate
\[I_{CBO} = \frac{I_{CEO}}{(\beta + 1)} = \frac{50 \times 10^{-9}}{190 + 1} = 0.26nA\]
This current is much smaller, as explained, because it does not include the (\(\beta\) + 1) amplification factor.\newline\newline
When the junction was heated to roughly 125\(^{\circ}\)C, I\(_{\text{CEO}}\) increased to 350nA. This is because heating the junction increases the rate of thermal motion of charge carriers and hence rate of diffusion, which is the main mechanism by which charge flows across the semiconductor. This can also be seen as an increase in \(\beta\) with temperature as was confirmed earlier in this lab.
\end{document}